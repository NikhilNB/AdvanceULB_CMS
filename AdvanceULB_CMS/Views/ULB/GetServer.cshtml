@model AdvanceULB_CMS.Models.Servers

@using (Html.BeginForm("PerformAction", "ULB", FormMethod.Post, new { id = "ulbForm" }))
{
    <label for="serverSelect">Server:</label>
    <select id="serverSelect" name="server">
        <option value="">Select a server</option>
        <option value="local">local</option>
        <option value="253">253</option>
        <option value="43">43</option>
    </select>
    <div style="margin-bottom: 10px;"></div>
    <label>Action:</label>
    <div id="actionButtons">
        <button type="button" class="actionBtn" value="get">Get ULBs</button>
        <button type="button" class="actionBtn" value="create">Create ULB</button>
    </div>
    <input type="hidden" id="selectedAction" name="action" />

    //Commit by Nikhil

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var actionButtons = document.querySelectorAll('.actionBtn');
            var selectedActionInput = document.getElementById('selectedAction');

            actionButtons.forEach(function (btn) {
                btn.addEventListener('click', function () {
                    selectedActionInput.value = this.value;

                    actionButtons.forEach(function (btn) {
                        btn.classList.remove('active');
                    });

                    this.classList.add('active');
                });
            });
        });
    </script>

    <style>
        .actionBtn.active {
            background-color: #4CAF50;
            color: white;
        }
    </style>
    <div style="margin-bottom: 10px;"></div>
    <button type="submit" id="submitBtn">Submit</button>
}

@section Scripts {
    <script>
        document.getElementById('ulbForm').addEventListener('submit', function (event) {
            var serverSelect = document.getElementById('serverSelect');
            var selectedServer = serverSelect.value;

            if (!selectedServer) {
                alert('Please select a server.');
                event.preventDefault();
            }
        });
    </script>
}
